ðŸ“ Project: Portfolio CMS with Drag & Drop Editor (Medium-Hard)
ðŸŽ¯ Goal
Build a web app where users can design a custom portfolio page using a drag-and-drop layout editor, save sections as templates, and store/retrieve them securely with Supabase backend.

ðŸ§° Stack
| Tech                   | Purpose                      |
| ---------------------- | ---------------------------- |
| **Next.js**            | React framework + routing    |
| **TypeScript**         | Type safety                  |
| **Tailwind CSS**       | UI styling                   |
| **Zustand** or Context | State management             |
| **Stripe API**         | Checkout integration         |
| **Docker** (Optional)  | For local/proxmox deployment |


âœ¨ Prompt for Cursor (Step-by-Step)
text

Build a Portfolio CMS web app using Next.js, TypeScript, Tailwind CSS, Supabase, and a drag-and-drop UI builder.

Follow this plan:

ðŸ”¹ 1. Scaffold the Project:
- Create a Next.js app with TypeScript and Tailwind CSS configured.
- Pages: `/`, `/login`, `/editor`, `/view/[id]`
- Set up Supabase client with environment variables.


ðŸ”¹ 2. Supabase Setup:
- Enable Supabase Auth (email/password)
- Create a `portfolios` table:

```sql
id: UUID (Primary Key)
user_id: UUID (FK from auth.users)
title: String
layout_json: JSONB
created_at: Timestamp
Create an API endpoint /api/portfolio/save to store the layout JSON.

ðŸ”¹ 3. Auth Integration:

Add Supabase Auth client to the app

Build /login and /signup pages

Restrict access to /editor unless user is logged in

ðŸ”¹ 4. Drag & Drop Editor:

Use React DnD

Create draggable "blocks" like:

Text block

Image block

Button block

Grid block

Allow users to rearrange blocks and edit content inline

ðŸ”¹ 5. Save Layout:

Convert block structure into a JSON schema

Save schema to Supabase on click of â€œSaveâ€ button

Load saved schema into editor when user revisits /editor

ðŸ”¹ 6. Template Mode:

Allow users to save their block layout as a reusable template

Add UI to switch between multiple saved portfolios or templates

ðŸ”¹ 7. Public View Page:

Create /view/[id] page to render layout JSON as a live portfolio

Style with Tailwind to match user-designed layout

ðŸ”¹ 8. Dockerize the App:

Create a Dockerfile and docker-compose.yml that:

Runs the app on port 3000

Links with a PostgreSQL container

Includes setup for a self-hosted Supabase instance

ðŸ”¹ 9. Realtime Collaboration:

Use Supabase Realtime to allow live multi-user editing (like Notion)

ðŸ”¹ 10. UI/UX:

Use Tailwind + Framer Motion to make the drag/drop UI intuitive

Add autosave, undo/redo (Zustand or Immer)

Mobile-friendly layout and preview mode

Goals:

Clean separation of concerns (components, state, API)

Secure Supabase auth and data fetch

Modern, responsive UI that works well in production


## ðŸ§± Suggested File Structure

portfolio-cms/
â”œâ”€â”€ components/
â”‚ â”œâ”€â”€ Editor/
â”‚ â”‚ â”œâ”€â”€ DraggableBlock.tsx
â”‚ â”‚ â””â”€â”€ BlockToolbar.tsx
â”‚ â””â”€â”€ Auth/
â”œâ”€â”€ lib/
â”‚ â””â”€â”€ supabaseClient.ts
â”œâ”€â”€ pages/
â”‚ â”œâ”€â”€ index.tsx
â”‚ â”œâ”€â”€ login.tsx
â”‚ â”œâ”€â”€ editor.tsx
â”‚ â””â”€â”€ view/
â”‚ â””â”€â”€ [id].tsx
â”œâ”€â”€ store/
â”‚ â””â”€â”€ useLayoutStore.ts
â”œâ”€â”€ api/
â”‚ â””â”€â”€ save.ts
â”œâ”€â”€ .env.local
â”œâ”€â”€ Dockerfile
â””â”€â”€ docker-compose.yml

yaml

## ðŸ§  Optional: Add Design System

Create a design system with reusable Tailwind components like `BlockCard`, `SaveButton`, and `ToolbarIcon` styled consistently.


## ðŸ“Œ Bonus Feature Prompts

- **Autosave feature:**  
> Add auto-save functionality that runs every 10 seconds and saves layout to Supabase if changes detected.

- **Undo/Redo stack:**  
> Implement undo/redo using Zustand and Immer.js to track history of layout changes.

- **Export to JSON file:**  
> Add a button to export the current layout schema to a `.json` file for download.

